<!DOCTYPE html>
<html>
<head>
	<title>Jo</title>

	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/howler/2.2.0/howler.js"></script>
	<!-- <script src="db.js"></script> -->

	<style type="text/css">
		body {
			margin: 0;
			padding: 0;

			/* disable text select */
		    -webkit-touch-callout: none;
		    -webkit-user-select: none;
		    -khtml-user-select: none;
		    -moz-user-select: none;
		    -ms-user-select: none;
		    user-select: none;

		    font-family: monospace;
		}

		img {
			/* Prevents dragging of images/divs etc */
			-webkit-user-drag: none;
			user-drag: none;
		}

		/* hide blue outline when button highlighted */
		:focus {
			outline: none;
		}
	</style>
	<link rel="stylesheet" type="text/css" href="css/main.css">
	<link rel="stylesheet" type="text/css" href="css/player.css">
	<link rel="stylesheet" type="text/css" href="css/nav.css">
	<link rel="stylesheet" type="text/css" href="css/trackElement.css">

	<script type="text/javascript" src="js/globals.js"></script>
	<script type="text/javascript" src="js/db.js"></script>
	<script type="text/javascript" src="js/mainContent.js"></script>
	<script type="text/javascript" src="js/player.js"></script>
	<script type="text/javascript" src="js/trackElement.js"></script>

	<script type="text/javascript">
		// load tracks async
		db.loadTracks()
		
		// block scrolling through spacebar press, and pause/resume
		window.onkeydown = function(e) {
			if (e.which == 32 && e.target == document.body) {
				// pause/resume track
				player.toggleCurrentTrack();

				// prevent scrolling
				e.preventDefault();
			}
		}

		// document ready
		$(function() {
			// setup all track elements
			setupTrackElements()

			// go to main page
			main.switch(1);

			// setup navigation buttons
			$('#menu1').click(function(event) { main.switch(1) })
			$('#menu2').click(function(event) { main.switch(2) })
			$('#menu3').click(function(event) { main.switch(3) })

			// setup player
			player.setup()
		})
	</script>
</head>
<body>

	<div id='titleArea' style='width: 100%; height: 50px;'>
		<div style='font-family: monospace; font-size: 50px;'>
			leon scherer
		</div>
	</div>

	<div id='navBarAndMain'>
		<div id='navBar'>
			<div id='menuButtons'>
				<!-- TODO: Make these divs, because buttons block space bar play/resume functionality -->
				<button id='menu1' class='menuButton'>Music</button>
				<button id='menu2' class='menuButton'>About</button>
				<button id='menu3' class='menuButton'>Contact</button>
			</div>
			
			<div id='socialButtons'>
				<div id='social1' class='socialButton'>
					<img class='socialImage' src='img/twitter.png'>
				</div>

				<div id='social2' class='socialButton'>
					<img class='socialImage' src='img/instagram.png'>
				</div>
			</div>
		</div>

		<div id="main1" class='main'>
			<div id='tracks'></div>
		</div>

		<div id="main2" class='main'>
			Hi my name is Leon
		</div>

		<div id="main3" class='main'>
			Hit me up
		</div>
	</div>

	<div id='playerStickyFooter'>
		<div id='playerArea'>
			<img id='play' src='img/play.png'>

			<div id='trackMetaAndTimeline'>
				
				<div id='trackMeta'>
					<div id='trackMetaContent'>
						<div id='trackTitle' class='trackMeta' style='color: white;'> Track Title </div>
						<div id='trackMetaSpacer' class='trackMeta' style='color: lightgrey; margin: 0 5px;'> - </div>
						<div id='trackPlaylist' class='trackMeta' style='color: lightgrey;'> Playlist </div>
					</div>
				</div>

				<div id='timeline'>
					<img id='timelineWaveform' style='width: 100%; height: 100%; object-fit: fill;'>

					<div id='timelineMarker'>
						<div id='timelineMarkerContent'></div>
					</div>
				</div>

			</div>

			<div id='volumeArea'>
				<div id='volumeSlider'>
					
				</div>
			</div>
		</div>
	</div>

</body>
</html>
